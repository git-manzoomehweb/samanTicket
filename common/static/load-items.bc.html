<basis core="group" if="'[##cms.query.typecat##]'='tour'">
    <basis core="dbsource" source="basiscore" mid="20" name="tour" lid="1">
        <member name="category" type="tree" request="cat" parentid="[##cms.query.catid##]"></member>
    </basis>
    <div class="sub-item-megamenu pr-8 border-r border-primary-300">
        <basis core="print" datamembername="tour.category">
            <face filter="catid in('[##cms.query.catid##]') and link is null"><a
                    href="/tour-list.bc?catid=[##cms.query.catid##]"
                    class="font-danademibold text-lg text-black hover:text-primary-900">@title</a>
                <h2 class="line-clamp-3 leading-5 text-sm text-black ">@urldescription</h2>
            </face>
            <face filter="catid in('[##cms.query.catid##]')"><a href="/@link"
                    class="font-danademibold text-lg text-black hover:text-primary-900">@title</a>
                <h2 class="line-clamp-3 leading-5 text-sm text-black ">@urldescription</h2>
            </face>
        </basis>
        <basis core="tree" datamembername="tour.category" idcol="catid" parentidcol="parentid"
            nullvalue="[##cms.query.catid##]">
            <layout>
                <div>
                    <ul
                        class="text-sm text-primary-500 font-danaregular leading-8 mt-14 columns-3 w-[373px] max-lg:columns-1 max-lg:w-full">
                        @child </ul>
                </div>
            </layout><else-layout><a href="/tour-list.bc?catid=[##cms.query.catid##]"
                    class="font-danademibold text-lg text-black hover:text-primary-900">[##cms.query.catname##]</a>
                <div class="text-sm text-primary-500 font-danaregular leading-8 mt-14 w-[373px]">در حال حاضر دسته ای
                    یافت نشد. </div>
            </else-layout>
            <face filter="parentid=[##cms.query.catid##] and link is null">
                <li class="hover:text-primary-500"><a href="/tour-list.bc?catid=@catid">@title</a></li>
            </face>
            <face filter="parentid=[##cms.query.catid##] ">
                <li class="hover:text-primary-500"><a href="/@link">@title</a></li>
            </face>
        </basis>
    </div>
    <basis core="print" datamembername="tour.category">
        <layout>@child </layout><else-layout>
            <figure
                class="image-category-magamenu max-lg:hidden w-[308px] h-[402px] min-w-[308px] min-h-[402px] max-w-[308px] max-h-[402px] rounded-[10px] overflow-hidden">
                <img loading="lazy" class="w-[308px] h-[402px] min-w-[308px] min-h-[402px] max-w-[308px] max-h-[402px]"
                    src="[##cms.cms.cdn##]/images/tour-banner-default.jpg" width="308" height="402" alt="تور" />
            </figure>
        </else-layout>
        <face filter="catid in('[##cms.query.catid##]')">
            <figure
                class="image-category-magamenu max-lg:hidden w-[308px] h-[402px] min-w-[308px] min-h-[402px] max-w-[308px] max-h-[402px] rounded-[10px] overflow-hidden">
                <img loading="lazy" class="w-[308px] h-[402px] min-w-[308px] min-h-[402px] max-w-[308px] max-h-[402px]"
                    src="[##cms.cms.cdn##]/@image" width="308" height="402" alt="@title" />
            </figure>
        </face>
    </basis>
</basis>
<basis core="group" if="'[##cms.query.typecat##]'='article'">
    <basis core="dbsource" source="basiscore" mid="1" name="article" lid="1">
        <member name="category" type="tree" request="cat" parentid="[##cms.query.catid##]"></member>
    </basis>
    <div class="sub-item-megamenu pr-8 border-r border-primary-300">
        <basis core="print" datamembername="article.category">
            <face filter="catid in('[##cms.query.catid##]') and link is null"><a
                    href="/article-list.bc?catid=[##cms.query.catid##]"
                    class="font-danademibold text-lg text-black hover:text-primary-900">@title</a>
                <h2 class="line-clamp-3 leading-5 text-sm text-black">@urldescription</h2>
            </face>
            <face filter="catid in('[##cms.query.catid##]')"><a href="/@link"
                    class="font-danademibold text-lg text-black hover:text-primary-900">@title</a>
                <h2 class="line-clamp-3 leading-5 text-sm text-black">@urldescription</h2>
            </face>
        </basis>
        <basis core="tree" datamembername="article.category" idcol="catid" parentidcol="parentid"
            nullvalue="[##cms.query.catid##]">
            <layout>
                <div>
                    <ul
                        class="text-sm text-primary-500 font-danaregular leading-8 mt-14 columns-3 w-[373px] max-lg:columns-1 max-lg:w-full">
                        @child </ul>
                </div>
            </layout><else-layout><a href="/article-list.bc?catid=[##cms.query.catid##]"
                    class="font-danademibold text-lg text-black hover:text-primary-900">[##cms.query.catname##]</a>
                <div class="text-sm text-primary-500 font-danaregular leading-8 mt-14 w-[373px]">در حال حاضر دسته ای
                    یافت نشد. </div>
            </else-layout>
            <face filter="parentid=[##cms.query.catid##] and link is null">
                <li class="hover:text-primary-500"><a href="/article-list.bc?catid=@catid">@title</a></li>
            </face>
            <face filter="parentid=[##cms.query.catid##] ">
                <li class="hover:text-primary-500"><a href="/@link">@title</a></li>
            </face>
        </basis>
    </div>
    <basis core="print" datamembername="article.category">
        <layout>@child </layout><else-layout>
            <figure
                class="image-category-magamenu max-lg:hidden w-[308px] h-[402px] min-w-[308px] min-h-[402px] max-w-[308px] max-h-[402px] rounded-[10px] overflow-hidden">
                <img loading="lazy" class="w-[308px] h-[402px] min-w-[308px] min-h-[402px] max-w-[308px] max-h-[402px]"
                    src="[##cms.cms.cdn##]/images/article-banner-default.jpg" width="308" height="402" alt="مقاله" />
            </figure>
        </else-layout>
        <face filter="catid in('[##cms.query.catid##]')">
            <figure
                class="image-category-magamenu max-lg:hidden w-[308px] h-[402px] min-w-[308px] min-h-[402px] max-w-[308px] max-h-[402px] rounded-[10px] overflow-hidden">
                <img loading="lazy" class="w-[308px] h-[402px] min-w-[308px] min-h-[402px] max-w-[308px] max-h-[402px]"
                    src="[##cms.cms.cdn##]/@image" width="308" height="402" alt="@title" />
            </figure>
        </face>
    </basis>
</basis>
<basis core="group" if="'[##cms.query.typecat##]'='destination'">
    <basis core="dbsource" source="basiscore" mid="20" name="tour" lid="1">
        <member name="categoryitem" type="tree" request="cat" parentid="[##cms.query.catid##]"
            postsql="select * from [tour.categoryitem] limit 7"></member>
    </basis>
    <basis core="list" datamembername="tour.categoryitem">
        <face filter="link is null">
            <article class="w-[176px] h-[171px] rounded-xl overflow-hidden relative group"><a
                    href="/tour-list.bc?catid=@catid">
                    <figure><img class="object-cover w-[176px] h-[171px]" src="[##cms.cms.cdn##]/@image" alt="@title"
                            width="176" height="171">
                        <figcaption
                            class="text-white text-base font-danabold leading-[24px] absolute top-0 left-0 bottom-0 right-0 bg-gradient-to-t from-[#040c24]/80 group-hover:from-[#040c24]/100 to-transparent transition-all duration-100 ease-in-out ">
                            <div
                                class="absolute top-3 left-3 text-xs font-danaregular bg-white text-zinc-900 py-1 px-2 rounded-[20px] ">
                                @countid تور </div>
                            <div class="absolute bottom-0 left-0 right-0 mx-auto w-[148px] pb-3">
                                <h2 class="line-clamp-1">@title</h2><svg width="148" height="11">
                                    <use href="./images/sprite-icons.svg#arrow-left-icon"></use>
                                </svg>
                            </div>
                        </figcaption>
                    </figure>
                </a></article>
        </face>
        <face>
            <article class="w-[176px] h-[171px] rounded-xl overflow-hidden relative group"><a href="/@link">
                    <figure><img class="object-cover w-[176px] h-[171px]" src="[##cms.cms.cdn##]/@image" alt="@title"
                            width="176" height="171">
                        <figcaption
                            class="text-white text-base font-danabold leading-[24px] absolute top-0 left-0 bottom-0 right-0 bg-gradient-to-t from-[#040c24]/80 group-hover:from-[#040c24]/100 to-transparent transition-all duration-100 ease-in-out ">
                            <div
                                class="absolute top-3 left-3 text-xs font-danaregular bg-white text-zinc-900 py-1 px-2 rounded-[20px] ">
                                @countid تور </div>
                            <div class="absolute bottom-0 left-0 right-0 mx-auto w-[148px] pb-3">
                                <h2 class="line-clamp-1">@title</h2><svg width="148" height="11">
                                    <use href="./images/sprite-icons.svg#arrow-left-icon"></use>
                                </svg>
                            </div>
                        </figcaption>
                    </figure>
                </a></article>
        </face>
    </basis>
</basis>
<basis core="group" if="'[##cms.query.typecat##]'='specialtour'">
    <basis core="dbsource" source="basiscore" lid="1" mid="20" name="tour" catid="[##cms.query.catid##]">
        <member name="specialtour" type="list" link="tour.bc" propertyid="7244,7248" perpage="20" order="ord"
            size="311x151" />
    </basis>
    <basis core="dbsource" source="basiscore" lid="1" mid="20" name="db" catid="[##cms.query.catid|(0)##]">
        <member name="specialtour" type="list" link="tour.bc" size="311x151"
            propertyid=" 8181,8076,8077,3088062,10000504" typeid="159" perpage="20" order="ord"></member>
    </basis>
    <basis core="dbsource" source="basiscore" mid="1" name="list" lid="1" schemaid="987" term="[##cms.query.term##]">
        <member name="airline" type="list" request="spelist"></member>
    </basis>
    <basis core="inlinesource" name="joining">
        <member name="specialtourlist" lefttblcol="db.specialtour.prp_10000504" righttblcol="list.airline.name"
            format="join" jointype="leftjoin"></member>
    </basis>
    <basis core="list" datamembername="joining.specialtourlist">
        <layout>@child </layout>
        <face>
            <div class="swiper-slide w-[311px]">
                <article><a href="/@db.specialtour.link"
                        class="w-[311px] h-[305px] rounded-xl overflow-hidden cursor-pointer group bg-white border border-zinc-200 block">
                        <figure class="w-[311px] h-[151px] relative"><img class="w-[311px] h-[151px] object-cover"
                                src="[##cms.cms.cdn##]/@db.specialtour.00311X00151prp" width="311" height="151"
                                alt="@db.specialtour.title">
                            <figcaption class="absolute top-2 left-3"><span
                                    class="sr-only">@db.specialtour.title</span><img src="@list.airline.pic" width="60"
                                    height="24" alt="@list.airline.name"></figcaption>
                        </figure>
                        <div class="px-3">
                            <h2 class="text-base text-zinc-900 leading-6 font-danabold my-3 line-clamp-1">
                                @db.specialtour.title</h2>
                            <div class="flex justify-between">
                                <div class="w-1/2 flex items-center gap-x-2"><svg width="36" height="36">
                                        <use href="./images/sprite-icons.svg#date-icon"></use>
                                    </svg>
                                    <h2 class="text-xs leading-5 font-danaregular">@db.specialtour.prp_8077</h2>
                                </div>
                                <div class="w-1/2 flex items-center gap-x-2"><svg width="36" height="36">
                                        <use href="./images/sprite-icons.svg#time-icon"></use>
                                    </svg>
                                    <h2 class="text-xs leading-5 font-danaregular">@db.specialtour.prp_8076</h2>
                                </div>
                            </div>
                            <div class="mt-2 flex justify-between items-center">
                                <div><span class="text-zinc-600 text-xs leading-5">قیمت از :</span>
                                    <h2 class="text-zinc-900 text-sm leading-6 font-danamedium">@db.specialtour.prp_8181
                                    </h2>
                                </div><svg width="48" height="48"
                                    class="transition-all duration-200 ease-in-out group-hover:-translate-x-2">
                                    <use href="./images/sprite-icons.svg#go-icon"></use>
                                </svg>
                            </div>
                        </div>
                    </a></article>
            </div>
        </face>
    </basis>
</basis>
<basis core="group" if="'[##cms.query.typecat##]'='offeredtour'">
    <basis core="dbsource" source="basiscore" lid="1" mid="20" name="tour" catid="[##cms.query.catid##]">
        <member name="offeredtour" type="list" link="tour.bc" propertyid="7244,7248" perpage="20" order="ord"
            size="311x151" />
    </basis>
    <basis core="dbsource" source="basiscore" lid="1" mid="20" name="db" catid="[##cms.query.catid|(0)##]">
        <member name="offeredtour" type="list" link="tour.bc" size="311x151"
            propertyid=" 8181,8076,8077,3088062,10000504" typeid="159" perpage="20" order="ord"></member>
    </basis>
    <basis core="dbsource" source="basiscore" mid="1" name="list" lid="1" schemaid="987" term="[##cms.query.term##]">
        <member name="airline" type="list" request="spelist"></member>
    </basis>
    <basis core="inlinesource" name="joining">
        <member name="offeredtourlist" lefttblcol="db.offeredtour.prp_10000504" righttblcol="list.airline.name"
            format="join" jointype="leftjoin"></member>
    </basis>
    <basis core="list" datamembername="joining.offeredtourlist">
        <layout>@child </layout>
        <face>
            <div class="swiper-slide w-[311px]">
                <article><a href="/@db.offeredtour.link"
                        class="w-[311px] h-[305px] rounded-xl overflow-hidden cursor-pointer group bg-white border border-zinc-200 block">
                        <figure class="w-[311px] h-[151px] relative"><img class="w-[311px] h-[151px] object-cover"
                                src="[##cms.cms.cdn##]/@db.offeredtour.00311X00151prp" width="311" height="151"
                                alt="@db.offeredtour.title">
                            <figcaption class="absolute top-2 left-3"><span
                                    class="bg-red-600/80 text-white p-2 rounded-[50px] absolute top-2 right-3">@db.specialtour.prp_3088062</span><img
                                    class="absolute top-2 left-3" src="@list.airline.pic" width="60" height="24"
                                    alt="@list.airline.name"></figcaption>
                        </figure>
                        <div class="px-3">
                            <h2 class="text-base text-zinc-900 leading-6 font-danabold my-3 line-clamp-1">
                                @db.offeredtour.title</h2>
                            <div class="flex justify-between">
                                <div class="w-1/2 flex items-center gap-x-2"><svg width="36" height="36">
                                        <use href="./images/sprite-icons.svg#date-icon"></use>
                                    </svg>
                                    <h2 class="text-xs leading-5 font-danaregular">@db.offeredtour.prp_8077</h2>
                                </div>
                                <div class="w-1/2 flex items-center gap-x-2"><svg width="36" height="36">
                                        <use href="./images/sprite-icons.svg#time-icon"></use>
                                    </svg>
                                    <h2 class="text-xs leading-5 font-danaregular">@db.offeredtour.prp_8076</h2>
                                </div>
                            </div>
                            <div class="mt-2 flex justify-between items-center">
                                <div><span class="text-zinc-600 text-xs leading-5">قیمت از :</span>
                                    <h2 class="text-zinc-900 text-sm leading-6 font-danamedium">@db.offeredtour.prp_8181
                                    </h2>
                                </div><svg width="48" height="48"
                                    class="transition-all duration-200 ease-in-out group-hover:-translate-x-2">
                                    <use href="./images/sprite-icons.svg#go-icon"></use>
                                </svg>
                            </div>
                        </div>
                    </a></article>
            </div>
        </face>
    </basis>
</basis>
<basis core="group" if="'[##cms.query.typecat##]'='visareq'">
    <basis core="dbsource" source="basiscore" lid="1" mid="20" name="list" catid="[##cms.query.catid##]">
        <member name="visa" type="list" link="visa.bc" size="84X84" typeid="159" perpage="20" order="ord"></member>
    </basis>
    <basis core="list" datamembername="list.visa">
        <layout>@child </layout>
        <face>
            <div class="swiper-slide w-[200px]">
                <article><a
                        class="w-[200px] h-[132px] rounded-xl flex items-center mx-5 gap-x-3 overflow-hidden cursor-pointer group bg-white "
                        href="/@link">
                        <figure><img class="object-cover w-[84px] h-[84px] rounded-full"
                                src="[##cms.cms.cdn##]/@00084X00084prp" alt="@title" width="84" height="84"></figure>
                        <div>
                            <h2 class="text-base leading-6 font-danabold text-zinc-900 mt-2 line-clamp-1">@title</h2>
                            <div class="flex items-center "><span
                                    class="text-sm leading-5 text-secondary-1-700 font-danaregular">مشاهده</span><svg
                                    width="49" height="48">
                                    <use href="./images/sprite-icons.svg#arrow-left-small-icon"></use>
                                </svg></div>
                        </div>
                    </a></article>
            </div>
        </face>
    </basis>
</basis>
<basis core="group" if="'[##cms.query.typecat##]'='faq'">
    <basis core="dbsource" source="basiscore" name="db" mid="1" lid="1" usedforid="[##cms.query.catid##]">
        <member name="faqContent" type="view" />
    </basis>
    <basis core="list" datamembername="db.faqContent">
        <layout>
            <ul class="flex flex-col gap-3 my-8">@child </ul>
        </layout>
        <face filter="TypeID in(250)">
            <li class="relative bg-white rounded-xl pr-14 pl-4 py-4"><span
                    class=" w-[58px] h-[58px] flex justify-center items-center bg-primary-500 rounded-full absolute -right-6 top-0 bottom-0 my-auto"><svg
                        width="24" height="24">
                        <use href="./images/sprite-icons.svg#user-faq-icon"></use>
                    </svg></span>
                <h2 class="text-base leading-6 font-danabold text-zinc-900 my-2">@text</h2>
                <div class="text-xs text-zinc-500 text-justify leading-5 hidden">@largetext </div>
            </li>
        </face>
    </basis>
</basis>


<basis core="group" if="'[##cms.query.typecat##]'='tourlistItems'">
    <basis core="dbsource" source="basiscore" lid="1" mid="20" name="db" catid="[##cms.query.catid##]">
        <member name="tour-list" type="list" link="tour.bc"
            propertyid="8181,10000504,8076,8077" typeid="159" size="296x160"
            order="ord" perpage="24" pageno="[##cms.query.pagenum|(1)##]" />
        <member name="paging" type="list" request="paging" count="2" parentname="tour-list" />
    </basis>

    <div data-catid="[##cms.query.catid##]" class="flex w-full flex-col tours-container">
        <basis core="print" datamembername="db.tour-list">
            <else-layout>
                <div class="no-cards-found">موردی یافت نشد !</div>
            </else-layout>
            <layout>
                <div class="grid grid-cols-4 gap-3" id="cards-container">@child</div>
            </layout>
            <face>
                <a href="@link"
                    class="tour-card justify-between hover:!shadow-xl group !cursor-pointer !h-[336px] w-full bg-secondary-100 border border-secondary-200 rounded-xl p-3 hover:border-secondary-100 flex flex-col">
                    <div class="hidden best-seller">@prp_3088012</div>
                    <div class="hidden highest-price">@prp_3088013</div>
                    <div class="hidden lowest-price">@prp_3088014</div>
                    <div class="hidden newest">@prp_3088015</div>
                    <div class="hidden biggest-discount">@prp_3088016</div>
                    <img loading="lazy" src="@00296X00160prp" width="296" height="160" alt="@title"
                        class="w-full h-[160px] rounded-lg" />
                    <p class="font-DSemiBold text-zinc-900 line-clamp-1">@title</p>
                    <div class="w-full grid grid-cols-3 mt-2 gap-2">
                        <div
                            class="bg-secondary-50 h-[52px] rounded-lg w-full flex flex-col justify-center items-center">
                            <p class="text-xs text-secondary-500 pb-2">مدت زمان</p>
                            <p class="text-xs line-clamp-1 pb-2 font-DMedium text-center">
                                @prp_8076
                            </p>
                        </div>
                        <div
                            class="bg-secondary-50 h-[52px] rounded-lg w-full flex flex-col justify-center items-center">
                            <p class="text-xs text-secondary-500 pb-2">تاریخ</p>
                            <p class="text-xs line-clamp-1 font-DMedium text-center">@prp_8077</p>
                        </div>
                        <div
                            class="bg-secondary-50 h-[52px] rounded-lg w-full flex flex-col justify-center items-center">
                            <p class="text-xs text-secondary-500 pb-2">ایرلاین</p>
                            <p class="text-xs line-clamp-1 font-DMedium text-center">
                                @prp_10000504
                            </p>
                        </div>
                    </div>
                    <div class="flex gap-2 mt-2 items-center">
                        <div
                            class="w-[calc(100%-60px)] h-[52px] rounded-lg bg-secondary-50 flex justify-center items-center flex-col">
                            <p class="text-xs text-secondary-500 pb-2">شروع قیمت از</p>
                            <p class="text-xs line-clamp-1 pb-2 font-DMedium text-center">
                                @prp_8181
                            </p>
                        </div>
                        <div class="w-[52px] h-[52px] flex justify-center items-center bg-primary-800 rounded-lg">
                            <svg width="8" height="12" viewBox="0 0 8 12" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path d="M6.33301 10.6666L1.66634 5.99992L6.33301 1.33325" stroke="#FCFAF6"
                                    stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </div>
                    </div>
                </a>
            </face>
        </basis>
        <div id="paging" class="flex cats-paging-load items-center justify-center gap-2 mt-20">
            <ul class="flex w-full justify-center items-center gap-3 cd-pagination no-space dir-ltr" id="wibpaging">
                <basis core="print" datamembername="db.paging">
                    <face filter="(@sta='pre')and('[##cms.cms.pageurl##]'='')">
                        <li
                            class="w-[58px] hover:bg-secondary-800 h-[32px] cursor-pointer flex justify-center items-center text-white bg-primary-800 rounded-lg page-no prev-page">
                            <span class="w-full h-full flex justify-center items-center Iran-sans"
                                aria-label="angle-left" onclick="FetchPageNumPrev('@page')">
                                بعدی
                            </span>
                        </li>
                    </face>
                    <face filter="(@sta='pre')and('[##cms.cms.pageurl##]'<>'')">
                        <li
                            class="page-no prev-page w-[58px] hover:bg-secondary-800 h-[32px] cursor-pointer flex justify-center items-center text-white bg-primary-800 rounded-lg">
                            <span class="w-full h-full flex justify-center items-center Iran-sans"
                                aria-label="angle-left" onclick="FetchPageNumPrev('@page')">
                                بعدی</span>
                        </li>
                    </face>
                </basis>
                <basis core="print" datamembername="db.paging">
                    <face filter="(@page=[##cms.query.pagenum|(1)##])and('[##cms.cms.pageurl##]'='')">
                        <li
                            class="page-no w-[32px] hover:bg-primary-100 Iran-sans h-[32px] cursor-pointer flex justify-center items-center bg-secondary-100 text-secondary-950 rounded-lg">
                            <span class="page-number w-full h-full flex justify-center items-center Iran-sans"
                                data-pagenum="@page" onclick="FetchWithPageNum('@page')">@page</span>
                        </li>
                    </face>
                    <face filter="(@page=[##cms.query.pagenum|(1)##])and('[##cms.cms.pageurl##]'<>'')">
                        <li
                            class="page-no w-[32px] hover:bg-primary-100 Iran-sans h-[32px] cursor-pointer flex justify-center items-center bg-secondary-100 text-secondary-950 rounded-lg">
                            <span class="page-number w-full h-full flex justify-center items-center Iran-sans"
                                data-pagenum="@page" onclick="FetchWithPageNum('@page')">@page</span>
                        </li>
                    </face>
                    <face
                        filter="(@page<>[##cms.query.pagenum|(1)##]) and (@page>0) and (@sta='no') and ('[##cms.cms.pageurl##]'='') ">
                        <li
                            class="page-no w-[32px] hover:bg-primary-100 Iran-sans h-[32px] cursor-pointer flex justify-center items-center bg-secondary-100 text-secondary-950 rounded-lg">
                            <span class="Iran-sans page-number w-full h-full flex justify-center items-center"
                                data-pagenum="@page" onclick="FetchWithPageNum('@page')">@page</span>
                        </li>
                    </face>
                    <face
                        filter="(@page<>[##cms.query.pagenum|(1)##]) and (@page>0) and (@sta='no') and ('[##cms.cms.pageurl##]'<>'') ">
                        <li
                            class="page-no w-[32px] hover:bg-primary-100 Iran-sans h-[32px] cursor-pointer flex justify-center items-center bg-secondary-100 text-secondary-950 rounded-lg">
                            <span class="Iran-sans page-number w-full h-full flex justify-center items-center"
                                data-pagenum="@page" onclick="FetchWithPageNum('@page')">@page</span>
                        </li>
                    </face>
                </basis>
                <basis core="print" datamembername="db.paging">
                    <face filter="(@sta='nex') and ('[##cms.cms.pageurl##]'='')">
                        <li
                            class="page-no next-page w-[58px] hover:bg-secondary-800 h-[32px] cursor-pointer flex justify-center items-center text-white bg-primary-800 rounded-lg">
                            <span class="w-full h-full flex justify-center items-center Iran-sans"
                                aria-label="angle-right" onclick="FetchPageNumNext('@page')">قبلی</span>
                        </li>
                    </face>
                    <face filter="(@sta='nex') and ('[##cms.cms.pageurl##]'<>'')">
                        <li
                            class="page-no next-page w-[58px] hover:bg-secondary-800 h-[32px] cursor-pointer flex justify-center items-center text-white bg-primary-800 rounded-lg">
                            <span class="w-full h-full flex justify-center items-center Iran-sans"
                                aria-label="angle-right" onclick="FetchPageNumNext('@page')">قبلی</span>
                        </li>
                    </face>
                </basis>
            </ul>
        </div>
        <script>
            // بروزرسانی فیلترینگ و متغیرها پس از فچ شدن صفحه جدید
            var fetchAndUpdatePage = async (pageNum) => {
                let t = document.querySelector(".tours-container"),
                    n = t.getAttribute("data-catid"),
                    o = await fetch(
                        `/tourList-load-items.bc?catid=${n}&pagenum=${pageNum}`
                    ),
                    r = await o.text();

                t.innerHTML = r;

                // بروزرسانی متغیرها
                var filterItems = document.querySelectorAll(".filters-ul li");
                var cards = document.querySelectorAll(".tour-card");
                var toursContainer = document.querySelector(".tours-container");
                var paging = document.getElementById("paging");

                filterItems.forEach((filter) => {
                    filter.classList.remove("active");
                });
                if (filterItems.length > 0) {
                    filterItems[0].classList.add("active");
                }
                filterItems.forEach((item) => {
                    item.addEventListener("click", () => {
                        if (item.classList.contains("all")) {
                            cards.forEach((card) => {
                                card.style.display = "flex";
                            });

                            const noResultsMessage = document.querySelector(
                                ".no-results-message"
                            );
                            if (noResultsMessage) {
                                noResultsMessage.remove();
                            }

                            paging.style.display = "flex";
                            return;
                        }

                        const filterClass = item.classList[0];
                        let anyCardVisible = false;

                        cards.forEach((card) => {
                            const filterElement = card.querySelector(`.${filterClass}`);

                            if (filterElement && filterElement.textContent.trim() !== "") {
                                card.style.display = "flex";
                                anyCardVisible = true;
                            } else {
                                card.style.display = "none";
                            }
                        });

                        if (!anyCardVisible) {
                            if (!document.querySelector(".no-results-message")) {
                                const noResultsMessage = document.createElement("p");
                                noResultsMessage.classList.add("no-results-message");
                                noResultsMessage.textContent = "موردی یافت نشد !";
                                toursContainer.appendChild(noResultsMessage);
                                paging.style.display = "none";
                            }
                        } else {
                            const noResultsMessage = document.querySelector(
                                ".no-results-message"
                            );
                            if (noResultsMessage) {
                                noResultsMessage.remove();
                            }

                            paging.style.display = "flex";
                        }
                    });
                });
            };

            // تابع برای تغییر صفحه
            var FetchPageNumPrev = async (e) => {
                fetchAndUpdatePage(e);
            };

            var FetchPageNumNext = async (e) => {
                fetchAndUpdatePage(e);
            };

            var FetchWithPageNum = async (e) => {
                fetchAndUpdatePage(e);
            };
        </script>
    </div>
</basis>