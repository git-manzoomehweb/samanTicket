// @ts-nocheck
function openHamburgerMenu(){document.getElementById("navitems").classList.add("max-lg:translate-x-0"),document.getElementById("navitems").classList.remove("max-lg:translate-x-full")}function openDropDownFooter(e){if(window.innerWidth<1280){e.classList.toggle("rotate-after");var t=e.closest(".parent-footer-dropdown");console.log(t.querySelector(".hidden-box")),t.querySelector(".hidden-box").classList.toggle("max-xl:hidden")}}function toggleModal(){document.getElementById("modal").classList.toggle("hidden")}function CloseHamburgerMenu(){document.getElementById("navitems").classList.remove("max-lg:translate-x-0"),document.getElementById("navitems").classList.add("max-lg:translate-x-full")}function OpenHamburgerMenu(){document.getElementById("header-items").classList.add("max-lg:translate-x-0"),document.getElementById("header-items").classList.remove("max-lg:translate-x-full")}async function LoadCatHeader(e,t,n){let o=n.querySelector(".has-submenu > span").innerText;try{const l=`/load-items.bc?${new URLSearchParams({catid:e,typecat:t,catname:o}).toString()}`,i=await fetch(l);if(!i.ok)throw new Error("متاسفانه مشکلی به وجود آمده است لطفا بعدا مجددا تلاش فرمایید.");const s=await i.text();if(window.innerWidth>=1024)n.closest(".megamenu-container").querySelector(".load-category-items").innerHTML=s;else if(window.innerWidth<1024){const e=n.querySelector(".sub-item-hamburgermenu"),t=e.classList.contains("hidden");document.querySelectorAll(".sub-item-hamburgermenu").forEach((e=>{e.classList.add("hidden")})),t?(e.classList.remove("hidden"),e.innerHTML=s):e.classList.add("hidden")}for(var r=container.getElementsByTagName("script"),a=0;a<r.length;a++){var c=document.createElement("script");r[a].src?(c.src=r[a].src,c.async=!1):c.text=r[a].textContent,document.head.appendChild(c).parentNode.removeChild(c)}}catch(e){}}function OpenSubMenu(){this.querySelector("ul").classList.toggle("hidden")}function initCategoryLoader(e){document.querySelectorAll(e).forEach((e=>{const t=e.querySelectorAll(".category-item-load"),n=e.querySelector(".load-content-box");if(t.length&&n&&(t.forEach((e=>{e.addEventListener("click",(function(){t.forEach((e=>e.classList.remove("active"))),this.classList.add("active");o(this.dataset.id,this.dataset.type)}))})),t.length>0)){const e=t[0];e.classList.add("active");o(e.dataset.id,e.dataset.type)}function o(t,o){const r=n.querySelector(".loader");r&&(r.style.display="block"),fetch(`load-items.bc?catid=${t}&typecat=${o}`).then((e=>e.text())).then((t=>{n.innerHTML=t;for(var r=e.getElementsByTagName("script"),a=0;a<r.length;a++){var c=document.createElement("script");r[a].src?(c.src=r[a].src,c.async=!1):c.text=r[a].textContent,document.head.appendChild(c).parentNode.removeChild(c)}setSwiperSlides(o)})).catch((e=>{console.error("Error loading content:",e),n.innerHTML="<p>Error loading content.</p>"}))}}))}function loadCategories(){document.querySelectorAll(".magamenu-category").forEach((e=>{const t=e.getAttribute("data-catid"),n=e.getAttribute("data-typecat");e.addEventListener("click",(function(){LoadCatHeader(t,n,this)}))}))}document.addEventListener("DOMContentLoaded",(function(){if(document.getElementById("search-box")){!function(){try{var e=new XMLHttpRequest;e.open("GET","search-engine.bc"),e.send(),e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=document.getElementById("search-box");t.innerHTML=e.responseText;for(var n=t.getElementsByTagName("script"),o=0;o<n.length;o++){var r=document.createElement("script");n[o].src?(r.src=n[o].src,r.async=!1):r.text=n[o].textContent,document.head.appendChild(r).parentNode.removeChild(r)}}}}catch(e){console.error("مشکلی رخ داده است لطفا صبور باشید.",e)}}()}})),document.addEventListener("DOMContentLoaded",(function(e){innerWidth<1024?document.querySelectorAll(".image-category-magamenu , .sub-item-megamenu").forEach((e=>{e.remove()})):document.querySelectorAll(".sub-item-hamburgermenu").forEach((e=>{e.remove()}))})),document.querySelectorAll(".has-megamenu").forEach((e=>{e.addEventListener("click",(function(){e.closest("li").querySelector(".megamenu-container").classList.toggle("hidden"),console.log("test")}))})),document.querySelectorAll(".has-submenu").forEach((e=>{e.addEventListener("click",(function(){e.closest("li").querySelector(".sub-item-hamburgermenu").classList.toggle("hidden"),console.log("test2")}))})),document.addEventListener("DOMContentLoaded",(function(e){innerWidth<1024?document.querySelectorAll(".image-category-magamenu , .sub-item-megamenu").forEach((e=>{e.remove()})):document.querySelectorAll(".megamenu-container").forEach((e=>{console.log("megaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa menu"),console.log(e);const t=e.querySelector(".magamenu-category");LoadCatHeader(e.querySelector(".magamenu-category").getAttribute("data-catid"),e.querySelector(".magamenu-category").getAttribute("data-typecat"),t)}))})),document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelectorAll(".has-sub-menu");window.innerWidth<1024&&e.forEach((e=>{e.addEventListener("click",OpenSubMenu,!1)}))})),document.querySelector(".transparent-header")&&window.addEventListener("scroll",(function(){const e=document.getElementById("navbar-desktop");window.scrollY>10?(e.classList.remove("bg-transparent"),e.classList.add("bg-gradient-to-b","from-[#081230]","to-[#020a21]/85")):(e.classList.add("bg-transparent"),e.classList.remove("bg-gradient-to-b","from-[#081230]","to-[#020a21]/85"))})),document.addEventListener("DOMContentLoaded",(function(){initCategoryLoader(".load-content-box-container"),loadCategories()}));const SINGLE_OPEN=!0;function initializeFAQItems(e){if(!e)return;e.querySelectorAll("li").forEach((t=>{const n=t.querySelector("h2"),o=n?n.nextElementSibling:null;n&&o&&(setupAccessibility(n,o),n.removeEventListener("keydown",handleKeydown),n.addEventListener("click",(()=>toggleItem(t,e))),n.addEventListener("keydown",handleKeydown))}))}function setupAccessibility(e,t){e.setAttribute("role","button"),e.setAttribute("tabindex","0"),e.setAttribute("aria-expanded",!t.classList.contains("hidden")),t.setAttribute("aria-hidden",t.classList.contains("hidden"))}function handleKeydown(e){if("Enter"===e.key||" "===e.key){e.preventDefault();const t=e.target.closest("li"),n=t.closest(".load-answer");toggleItem(t,n)}}function toggleItem(e,t){const n=e.querySelector("h2"),o=n?n.nextElementSibling:null;if(!n||!o)return;const r=o.classList.contains("hidden");r&&closeAllItems(t,e),o.classList.toggle("hidden"),e.classList.toggle("is-open",r),n.setAttribute("aria-expanded",String(r)),o.setAttribute("aria-hidden",String(!r))}function closeAllItems(e,t){e.querySelectorAll("li").forEach((e=>{if(e===t)return;const n=e.querySelector("h2"),o=n?n.nextElementSibling:null;o&&!o.classList.contains("hidden")&&(o.classList.add("hidden"),e.classList.remove("is-open"),n.setAttribute("aria-expanded","false"),o.setAttribute("aria-hidden","true"))}))}function observeDOM(){const e=document.querySelector(".load-answer");if(!e)return;new MutationObserver((t=>{t.forEach((t=>{"childList"===t.type&&initializeFAQItems(e)}))})).observe(e,{childList:!0,subtree:!0})}if(document.addEventListener("DOMContentLoaded",(()=>{initializeFAQItems(document.querySelector(".load-answer")),observeDOM()})),document.querySelector(".swiper-airline"))var swiper=new Swiper(".swiper-airline",{slidesPerView:"6",centeredSlides:!1,loop:!0,autoplay:!0});function setSwiperSlides(e){if(t&&"function"==typeof t.destroy&&t.destroy(!0,!0),console.log(e),"specialtour"===e&&document.querySelector(".specialtour-swiper"))var t=new Swiper(".specialtour-swiper",{slidesPerView:"4",centeredSlides:!1,loop:!0,autoplay:{delay:2500},pagination:{el:".swiper-pagination",clickable:!0}});if("offeredtour"===e&&document.querySelector(".offeredtour-swiper"))t=new Swiper(".offeredtour-swiper",{slidesPerView:"4",centeredSlides:!1,loop:!0,autoplay:{delay:2500},pagination:{el:".swiper-pagination",clickable:!0}});if("visareq"===e&&document.querySelector(".visa-swiper"))t=new Swiper(".visa-swiper",{slidesPerView:"5",centeredSlides:!1,loop:!0,autoplay:{delay:2500},pagination:{el:".swiper-pagination",clickable:!0}})}function uploadDocument(e){const t=document.getElementById("supportform").querySelector("#captchaContainer input[name='captcha']").value,n=document.getElementById("supportform").querySelector("#captchaContainer input[name='captchaid']").value,o=JSON.stringify(e.source?.rows[0]);$bc.setSource("cms.upload",{value:o,captcha:t,captchaid:n,run:!0})}function refreshCaptcha(e){$bc.setSource("captcha.refresh",!0)}function captchaRendered(){document.querySelector(".contactUsInput").placeholder="کد امنیتی"}async function OnProcessedEditObject(e){var t=e.response;"6"==(await t.json()).errorid?(document.getElementById("supportform").querySelector(".message-api").innerHTML="درخواست شما با موفقیت ثبت شد",document.getElementById("supportform").querySelector(".f-l-name").querySelector("input").value="",document.getElementById("supportform").querySelector(".phone-num").querySelector("input").value="",refreshCaptcha()):(refreshCaptcha(),document.getElementById("supportform").querySelector(".f-l-name").querySelector("input").value="",document.getElementById("supportform").querySelector(".phone-num").querySelector("input").value="",setTimeout((()=>{document.getElementById("supportform").querySelector(".message-api").innerHTML="خطایی رخ داده, لطفا مجدد اقدام کنید"}),2e3))}async function RenderForm(){document.getElementById("supportform").querySelector(".f-l-name").querySelector("input").placeholder="نام و نام خانوادگی",document.getElementById("supportform").querySelector(".phone-num").querySelector("input").placeholder="شماره تماس"}function uploadDocumentCounselingform(e){const t=document.getElementById("Counselingform").querySelector("#captchaContainer input[name='captcha']").value,n=document.getElementById("Counselingform").querySelector("#captchaContainer input[name='captchaid']").value,o=JSON.stringify(e.source?.rows[0]);$bc.setSource("cms.uploadCounselingform",{value:o,captcha:t,captchaid:n,run:!0})}function refreshCaptchaCounselingform(e){$bc.setSource("captchaCounselingform.refresh",!0)}function captchaRenderedCounselingform(){document.querySelector(".contactUsInput").placeholder="کد امنیتی"}async function OnProcessedEditObjectCounselingform(e){var t=e.response;"6"==(await t.json()).errorid?(document.getElementById("Counselingform").querySelector(".message-api").innerHTML="درخواست شما با موفقیت ثبت شد",document.getElementById("Counselingform").querySelector(".f-l-name").querySelector("input").value="",document.getElementById("Counselingform").querySelector(".phone-num").querySelector("input").value="",refreshCaptchaCounselingform()):(refreshCaptchaCounselingform(),document.getElementById("Counselingform").querySelector(".f-l-name").querySelector("input").value="",document.getElementById("Counselingform").querySelector(".phone-num").querySelector("input").value="",setTimeout((()=>{document.getElementById("Counselingform").querySelector(".message-api").innerHTML="خطایی رخ داده, لطفا مجدد اقدام کنید"}),2e3))}async function RenderFormCounselingform(){document.getElementById("Counselingform").querySelector(".f-l-name").querySelector("input").placeholder="نام و نام خانوادگی",document.getElementById("Counselingform").querySelector(".phone-num").querySelector("input").placeholder="شماره تماس"}var input=document.getElementById("input"),isItemSelected=!1;function contentSearched(e,t){input.value=e,document.getElementById("catidsearched").value=t,document.querySelector("ul.searchlistcategory").classList.add("hidden"),isItemSelected=!0}input&&(input.onkeyup=function(){if(0!==this.value.length){document.querySelector("ul.searchlistcategory").classList.remove("hidden");var e=input.value.toUpperCase(),t=document.querySelectorAll("li");isItemSelected=!1;for(var n=0;n<t.length;n++){0==t[n].innerHTML.toUpperCase().indexOf(e)?t[n].style.display="list-item":t[n].style.display="none"}}else{for(t=document.querySelectorAll("li"),n=0;n<t.length;n++)t[n].style.display="list-item";document.querySelector("ul.searchlistcategory").classList.remove("hidden")}},document.getElementById("search-content-article").addEventListener("submit",(function(e){if(!isItemSelected){e.preventDefault(),document.getElementById("catidsearched").value=0;for(var t=document.querySelectorAll("li"),n=0;n<t.length;n++)t[n].style.display="list-item";document.querySelector("ul.searchlistcategory").classList.remove("hidden")}}))),function(){const e={stars:new Set,name:"",loadedAll:!1,catid:null};function t(){const t=document.querySelector(".hotels-container");if(!t)return;const n=t.querySelectorAll("article");let o=0;n.forEach((t=>{const n=function(e){const t=e.querySelector("h2");return(t?.textContent||"").trim().toLowerCase()}(t),r=function(e){const t=e.querySelector('svg use[href*="star-hotel-icon"]')?.closest("div")?.querySelector("h2");if(!t)return null;const n=parseInt((t.textContent.match(/\d+/)?.[0]||"").replace(/[۰-۹]/g,(e=>"۰۱۲۳۴۵۶۷۸۹".indexOf(e))),10);return isNaN(n)?null:n}(t),a=!e.name||n.includes(e.name),c=0===e.stars.size||null!=r&&e.stars.has(r),l=a&&c;t.style.display=l?"block":"none",l&&o++}));let r=document.querySelector(".no-results-message");if(0===o){r||(r=document.createElement("p"),r.className="no-results-message text-center w-full my-6",r.textContent="موردی یافت نشد !",t.appendChild(r));const e=document.getElementById("paging");e&&(e.style.display="none")}else{r&&r.remove();const e=document.getElementById("paging");e&&(e.style.display="flex")}}function n(){o(),t()}function o(){const n=function(){let e=document.getElementById("hotelNameSearch");return e||(e=document.querySelector('input[placeholder="جستجوی هتل"]'),e)}();n&&(n._hotelSearchBound||(n._hotelSearchBound=!0,n.addEventListener("input",(n=>{e.name=(n.target.value||"").trim().toLowerCase(),t()}))))}window.filterHotelResult=async function(o,r,a,c){const l=parseInt(o,10);e.stars.has(l)?e.stars.delete(l):e.stars.add(l),e.catid||(e.catid=a),await async function(){if(e.loadedAll)return;const t=document.querySelector(".hotels-container");if(t){e.catid||(e.catid=t.getAttribute("data-catid"));try{const o=`/load-items.bc?catid=${encodeURIComponent(e.catid||0)}&typecat=hotellistItemsFilter&pagenum=1`,r=await fetch(o),a=await r.text();t.innerHTML=a,e.loadedAll=!0,n()}catch(e){console.error("Hotel filter fetch failed:",e)}}}(),t()};const r=new MutationObserver((e=>{let t=!1;e.forEach((e=>{"childList"===e.type&&(t=!0)})),t&&n()}));document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".hotels-container");t&&(e.catid||(e.catid=t.getAttribute("data-catid")),r.observe(t,{childList:!0,subtree:!0})),o()}))}();